# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.


### Includes
# mainly for sway-systemd
include /etc/sway/config.d/10-systemd-cgroups.conf
include /etc/sway/config.d/10-systemd-session.conf
include *


### Variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l

set $term kitty
set $launcher fuzzel
set $passmenu passmenu
set $exitnag wlogout
set $lock gtklock --config-daemonize
set $screenshot screenshot-bash


### Output configuration
output "LG Electronics LG ULTRAGEAR 104MANJ7FL47" {
        mode 2560x1440@144Hz
        position 0,0
        # Monitor supports FreeSync. BUT it has flickering, which sucks :( Let's wait until it gets solved
        adaptive_sync off
}

output "Samsung Electric Company S24E650 H4ZJ803253" {
        mode 1920x1080@60Hz
        position 2560,0
}

output "Unknown 0x046F 0x00000000" {
        mode 1920x1080@60Hz
        position 0,0
}

output * bg ~/Pictures/Wallpapers/current-wallpaper.jpg fill


### Input configuration
input type:keyboard {
        xkb_layout "de"
        xkb_numlock enabled
}

input 1133:49277:Logitech_Gaming_Mouse_G502 {
        accel_profile   "adaptive"
        pointer_accel   -1.0
}

input 6127:24717:PixArt_Lenovo_USB_Optical_Mouse {
        accel_profile   "adaptive"
        pointer_accel   -1.0
}

input 1267:12384:ELAN0501:00_04F3:3060_Touchpad {
        natural_scroll  enabled
        tap             enabled
        tap_button_map  lrm
}


### Keybinds
# Move/Resize windows with mouse
floating_modifier $mod normal

# Start terminal
bindsym $mod+Return exec $term
# Close active window
bindsym $mod+Escape kill
# Launcher
bindsym $mod+d exec $launcher
# Password manager
bindsym $mod+p exec $passmenu --type
bindsym $mod+Shift+p exec $passmenu
# Reload
bindsym $mod+Shift+c reload
# Bye Bye
bindsym $mod+Shift+e exec $exitnag
# Manual lock
bindsym $mod+Ctrl+q exec $lock
# Screenshot
bindsym Print exec $screenshot
bindsym Shift+Print exec $screenshot active_window
bindsym $mod+Print exec $screenshot output
# Dismiss last notification
bindsym $mod+Backspace exec makoctl dismiss

# Move focus around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
# Ditto, with arrow keys
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move the focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
# Ditto, with arrow keys
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Move the focused WORKSPACE to other output
bindsym $mod+Ctrl+$left move workspace output left
bindsym $mod+Ctrl+$down move workspace output down
bindsym $mod+Ctrl+$up move workspace output up
bindsym $mod+Ctrl+$right move workspace output right
# Ditto, with arrow keys
bindsym $mod+Ctrl+Left move workspace output left
bindsym $mod+Ctrl+Down move workspace output down
bindsym $mod+Ctrl+Up move workspace output up
bindsym $mod+Ctrl+Right move workspace output right

# Switch to workspace
bindsym $mod+1 workspace "1"
bindsym $mod+2 workspace "2"
bindsym $mod+3 workspace "3"
bindsym $mod+4 workspace "4:mail"
bindsym $mod+5 workspace "5:chat"
bindsym $mod+6 workspace "6"
bindsym $mod+7 workspace "7"
bindsym $mod+8 workspace "8"
bindsym $mod+9 workspace "9"
bindsym $mod+0 workspace "10"

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace "1"
bindsym $mod+Shift+2 move container to workspace "2"
bindsym $mod+Shift+3 move container to workspace "3"
bindsym $mod+Shift+4 move container to workspace "4:mail"
bindsym $mod+Shift+5 move container to workspace "5:chat"
bindsym $mod+Shift+6 move container to workspace "6"
bindsym $mod+Shift+7 move container to workspace "7"
bindsym $mod+Shift+8 move container to workspace "8"
bindsym $mod+Shift+9 move container to workspace "9"
bindsym $mod+Shift+0 move container to workspace "10"

# Switch the current container between different layout styles
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Make the current focus fullscreen
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+f fullscreen toggle global

# Toggle the current focus between tiling and floating mode
bindsym $mod+Shift+space floating toggle

# Swap focus between the tiling area and the floating area
bindsym $mod+space focus mode_toggle

# Move focus to the parent container
bindsym $mod+a focus parent

# Multimedia keys
bindsym XF86AudioStop exec mpc stop
bindsym XF86AudioPlay exec mpc toggle
bindsym XF86AudioPause exec mpc toggle
bindsym XF86AudioNext exec mpc next
bindsym XF86AudioPrev exec mpc prev
# Open ncmpcpp
bindsym $mod+XF86AudioPlay exec termapp ncmpcpp
# Pulse volume
bindsym XF86AudioMute exec pamixer -t && pamixer --get-volume > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86AudioRaiseVolume exec pamixer -ui 2 && pamixer --get-volume > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86AudioLowerVolume exec pamixer -ud 2 && pamixer --get-volume > $XDG_RUNTIME_DIR/wob.sock
# Pulse microphone mute
bindsym $mod+XF86AudioMute exec pamixer --default-source --toggle-mute
bindsym $mod+m exec pamixer --default-source --toggle-mute
# Open pulsemixer
bindsym $mod+XF86AudioRaiseVolume exec termapp pulsemixer
bindsym $mod+XF86AudioLowerVolume exec termapp pulsemixer
# MPD volume
bindsym Shift+XF86AudioRaiseVolume exec mpc vol +2 && mpc vol | sed "s|n/a|0%|g;s/[^0-9]*//g" > $XDG_RUNTIME_DIR/wob.sock
bindsym Shift+XF86AudioLowerVolume exec mpc vol -2 && mpc vol | sed "s|n/a|0%|g;s/[^0-9]*//g" > $XDG_RUNTIME_DIR/wob.sock
# Brightness
bindsym XF86MonBrightnessDown exec brightnessctl set 5%- | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86MonBrightnessUp exec brightnessctl set +5% | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $XDG_RUNTIME_DIR/wob.sock
# Resize mode
mode "resize" {

    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    # Ditto, with arrow keys
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"


### Look and feel
default_border normal 4
smart_borders on
font pango:Monocraft 10
client.focused           $cat_blue      $cat_blue       $cat_base   $cat_blue
client.focused_inactive  $cat_surface0  $cat_surface0   $cat_pink   $cat_surface0
client.unfocused         $cat_base      $cat_base       $cat_text   $cat_base
client.urgent            $cat_peach     $cat_peach      $cat_base   $cat_peach


### Window rules
# Show PulseMixer popup from waybar as floating window
for_window [app_id=popup_pulsemixer] floating enable; sticky enable; resize set 800 600; border none

# LXQt Polkit Agent
for_window [app_id=lxqt-policykit-agent] floating enable

# Firefox PiP
for_window [app_id=firefox title=Picture-in-Picture] floating enable; sticky enable

# Evolution to Mail Workspace
assign [app_id=evolution] 4:mail

# Chat apps to Chat Workspace
assign [app_id=telegramdesktop] 5:chat
assign [class=Signal] 5:chat
assign [class=Element] 5:chat
assign [app_id=Element] 5:chat
assign [class=discord] 5:chat

# Inhibit
for_window [title=.*] inhibit_idle fullscreen
for_window [class=vrmonitor] inihibit_idle open

